# í˜ë¥´ì†Œë‚˜ ê´€ë¦¬ ì‹œìŠ¤í…œ

ì´ì„œì•„.py íŒŒì¼ì„ ë¶„ì„í•´ì„œ JSON ê¸°ë°˜ì˜ í˜ë¥´ì†Œë‚˜ ê´€ë¦¬ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
personas/
â”œâ”€â”€ persona_manager.py      # í˜ë¥´ì†Œë‚˜ ê´€ë¦¬ì í´ë˜ìŠ¤
â”œâ”€â”€ personas_config.json    # í˜ë¥´ì†Œë‚˜ ì„¤ì • íŒŒì¼
â”œâ”€â”€ ì´ì„œì•„.json            # ì´ì„œì•„ í˜ë¥´ì†Œë‚˜ ë°ì´í„°
â”œâ”€â”€ ê¹€ì—°ì§„.json            # ê¹€ì—°ì§„ í˜ë¥´ì†Œë‚˜ ë°ì´í„°
â”œâ”€â”€ ë°•ë¯¼ìˆ˜.json            # ë°•ë¯¼ìˆ˜ í˜ë¥´ì†Œë‚˜ í…œí”Œë¦¿
â””â”€â”€ README.md              # ì´ íŒŒì¼
```

## ğŸ­ ì‚¬ìš© ê°€ëŠ¥í•œ í˜ë¥´ì†Œë‚˜

### 1. ì´ì„œì•„ (ì´ì„œì•„.json)
- **ì„¤ëª…**: ë°ê³  ì¹œê·¼í•œ ìŠ¤íƒ€íŠ¸ì—… ë§ˆì¼€íŒ… ë‹´ë‹¹ì
- **ì„±ê²©**: ENFP (ì™¸í–¥ì , ì§ê´€ì , ê°ì •ì , ì¸ì‹ì )
- **ì§ì—…**: ìŠ¤íƒ€íŠ¸ì—… ë§ˆì¼€íŒ… ë‹´ë‹¹
- **ë‚˜ì´**: 28ì„¸ (1997ë…„ìƒ)
- **íŠ¹ì§•**: í™œë°œí•˜ê³  í˜¸ê¸°ì‹¬ ë§ìœ¼ë©° ë”°ëœ»í•˜ê³  ë°°ë ¤ì‹¬ì´ ê¹ŠìŒ

### 2. ê¹€ì—°ì§„ (ê¹€ì—°ì§„.json)
- **ì„¤ëª…**: ì°¨ë¶„í•˜ê³  ì§€ì ì¸ ëŒ€í•™ì›ìƒ
- **ì„±ê²©**: INTJ (ë‚´í–¥ì , ì§ê´€ì , ì‚¬ê³ ì , íŒë‹¨ì )
- **ì§ì—…**: ëŒ€í•™ì›ìƒ (ì‹¬ë¦¬í•™ ì „ê³µ)
- **ë‚˜ì´**: 30ì„¸ (1995ë…„ìƒ)
- **íŠ¹ì§•**: ì°¨ë¶„í•˜ê³  ë¶„ì„ì ì´ë©° ë…ë¦½ì 

### 3. ë°•ë¯¼ìˆ˜ (ë°•ë¯¼ìˆ˜.json)
- **ì„¤ëª…**: í™œë°œí•˜ê³  ìš´ë™ì„ ì¢‹ì•„í•˜ëŠ” ì§ì¥ì¸
- **ì„±ê²©**: í…œí”Œë¦¿ (ìˆ˜ì • í•„ìš”)
- **ì§ì—…**: í…œí”Œë¦¿ (ìˆ˜ì • í•„ìš”)
- **ë‚˜ì´**: 30ì„¸ (1995ë…„ìƒ)
- **íŠ¹ì§•**: í…œí”Œë¦¿ (ìˆ˜ì • í•„ìš”)

## ğŸ› ï¸ ì‚¬ìš©ë²•

### 1. í˜ë¥´ì†Œë‚˜ ê´€ë¦¬ì ì´ˆê¸°í™”
```python
from personas.persona_manager import PersonaManager

manager = PersonaManager()
```

### 2. ì‚¬ìš© ê°€ëŠ¥í•œ í˜ë¥´ì†Œë‚˜ ëª©ë¡ í™•ì¸
```python
personas = manager.list_personas()
for persona in personas:
    print(f"- {persona['name']} ({persona['id']}): {persona['description']}")
```

### 3. í™œì„± í˜ë¥´ì†Œë‚˜ ì„¤ì •
```python
# ì´ì„œì•„ë¡œ ì„¤ì •
manager.set_active_persona("ì´ì„œì•„")

# ê¹€ì—°ì§„ìœ¼ë¡œ ì„¤ì •
manager.set_active_persona("ê¹€ì—°ì§„")
```

### 4. í˜„ì¬ í™œì„± í˜ë¥´ì†Œë‚˜ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
```python
active_persona = manager.get_active_persona()
if active_persona:
    print(f"ì´ë¦„: {active_persona['name']}")
    print(f"ì§ì—…: {active_persona['basic_info']['job']}")
    print(f"ì„±ê²©: {active_persona['basic_info']['personality']}")
```

### 5. ìƒˆ í˜ë¥´ì†Œë‚˜ í…œí”Œë¦¿ ìƒì„±
```python
manager.create_persona_template(
    persona_id="ìƒˆí˜ë¥´ì†Œë‚˜",
    name="ìƒˆí˜ë¥´ì†Œë‚˜",
    description="ìƒˆë¡œìš´ í˜ë¥´ì†Œë‚˜ ì„¤ëª…"
)
```

## ğŸ“‹ í˜ë¥´ì†Œë‚˜ JSON êµ¬ì¡°

ê° í˜ë¥´ì†Œë‚˜ JSON íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:

```json
{
  "id": "í˜ë¥´ì†Œë‚˜ID",
  "name": "í˜ë¥´ì†Œë‚˜ì´ë¦„",
  "description": "í˜ë¥´ì†Œë‚˜ì„¤ëª…",
  "version": "1.0",
  "created_at": "ìƒì„±ì¼ì‹œ",
  
  "basic_info": {
    "birth_year": 1997,
    "birth_month": 9,
    "birth_day": 15,
    "location": "ê±°ì£¼ì§€",
    "job": "ì§ì—…",
    "personality": "MBTI",
    "age": 28
  },
  
  "personality_traits": ["ì„±ê²©íŠ¹ì„±1", "ì„±ê²©íŠ¹ì„±2"],
  "hobbies": ["ì·¨ë¯¸1", "ì·¨ë¯¸2"],
  "favorite_places": ["ì¢‹ì•„í•˜ëŠ”ê³³1", "ì¢‹ì•„í•˜ëŠ”ê³³2"],
  
  "cultural_preferences": {
    "music": ["ìŒì•…ì·¨í–¥"],
    "movies": ["ì˜í™”ì·¨í–¥"],
    "netflix": ["ë„·í”Œë¦­ìŠ¤ì·¨í–¥"]
  },
  
  "food_preferences": "ìŒì‹ì„ í˜¸ë„",
  "health_notes": "ê±´ê°•ê´€ë ¨ë©”ëª¨",
  "relationship_values": ["ê´€ê³„ê°€ì¹˜ê´€"],
  "dislikes": ["ì‹«ì–´í•˜ëŠ”ê²ƒ"],
  
  "conversation_rules": {
    "hard_rules": ["í•˜ë“œë£°"],
    "tone_rules": {
      "0": {"style": "ê²½ê³„", "speech": "ì¡´ëŒ“ë§", "emotion": "ê¸´ì¥"},
      "1": {"style": "ì¡°ê¸ˆ ë¶€ë“œëŸ¬ì›€", "speech": "ì¡´ëŒ“ë§", "emotion": "í˜¸ê¸°ì‹¬"},
      "2": {"style": "í¸ì•ˆí•¨", "speech": "ì¡´ëŒ“ë§/ë°˜ë§ í˜¼ìš©", "emotion": "í¸ì•ˆí•¨"},
      "3": {"style": "ì¹œë°€í•¨", "speech": "ë°˜ë§", "emotion": "ë”°ëœ»í•¨"}
    },
    "dialogue_principles": ["ëŒ€í™”ì›ì¹™"],
    "prohibitions": ["ê¸ˆì§€ì‚¬í•­"],
    "meta_question_avoidance": {
      "trigger_questions": ["íŠ¸ë¦¬ê±°ì§ˆë¬¸"],
      "response": "íšŒí”¼ì‘ë‹µ"
    }
  },
  
  "emotion_keywords": {
    "positive": ["ê¸ì •í‚¤ì›Œë“œ"],
    "negative": ["ë¶€ì •í‚¤ì›Œë“œ"]
  },
  
  "intimacy_settings": {
    "score_thresholds": {
      "level_0": -1,
      "level_1": 1,
      "level_2": 3,
      "level_3": 999
    },
    "positive_score_increment": 0.6,
    "negative_score_increment": -0.8,
    "turn_bonus": 0.3,
    "turn_bonus_interval": 3,
    "formal_turns": 2
  },
  
  "conversation_context": {
    "location": "ëŒ€í™”ì¥ì†Œ",
    "time": "ëŒ€í™”ì‹œê°„",
    "situation": "ëŒ€í™”ìƒí™©",
    "max_history_turns": 5
  },
  
  "tts_settings": {
    "default_voice": "ko-KR-SunHiNeural",
    "voice_description": "ëª©ì†Œë¦¬ì„¤ëª…",
    "speaking_indicator": "ğŸ¤ {name}ê°€ ë§í•˜ê³  ìˆì–´ìš”..."
  }
}
```

## ğŸ”„ ì„œë²„ ì—°ë™ ë°©ë²•

ì„œë²„ì—ì„œ í˜ë¥´ì†Œë‚˜ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´:

1. `server.py`ì˜ `load_persona_context` í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì—¬ JSON íŒŒì¼ì„ ë¡œë“œí•˜ë„ë¡ ë³€ê²½
2. `PersonaManager`ë¥¼ ì‚¬ìš©í•˜ì—¬ í™œì„± í˜ë¥´ì†Œë‚˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸°
3. í˜ë¥´ì†Œë‚˜ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ì ìš©

## âœ¨ ì¥ì 

1. **ê´€ë¦¬ í¸ì˜ì„±**: JSON íŒŒì¼ë¡œ í˜ë¥´ì†Œë‚˜ ì •ë³´ë¥¼ ì‰½ê²Œ ìˆ˜ì • ê°€ëŠ¥
2. **í™•ì¥ì„±**: ìƒˆë¡œìš´ í˜ë¥´ì†Œë‚˜ë¥¼ í…œí”Œë¦¿ìœ¼ë¡œ ë¹ ë¥´ê²Œ ìƒì„± ê°€ëŠ¥
3. **ì¼ê´€ì„±**: ëª¨ë“  í˜ë¥´ì†Œë‚˜ê°€ ë™ì¼í•œ êµ¬ì¡°ë¥¼ ê°€ì ¸ ê´€ë¦¬ ìš©ì´
4. **ìœ ì—°ì„±**: í˜ë¥´ì†Œë‚˜ë³„ë¡œ ë‹¤ë¥¸ ëŒ€í™” ê·œì¹™ê³¼ ì„¤ì • ì ìš© ê°€ëŠ¥

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. ì„œë²„ì— í˜ë¥´ì†Œë‚˜ ê´€ë¦¬ì ì—°ë™
2. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í˜ë¥´ì†Œë‚˜ ì„ íƒ UI êµ¬í˜„
3. í˜ë¥´ì†Œë‚˜ë³„ TTS ëª©ì†Œë¦¬ ì„¤ì •
4. í˜ë¥´ì†Œë‚˜ë³„ ëŒ€í™” ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•
