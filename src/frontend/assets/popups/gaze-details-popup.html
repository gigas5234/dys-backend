<!-- 시선 안정성 상세 정보 팝업 -->
<div id="gaze-details-popup" class="details-popup">
  <div class="details-popup-content">
    <div class="details-popup-header">
      <h3>👁️ 시선 안정성 분석 상세</h3>
      <button class="details-popup-close" onclick="closeGazeDetails()">×</button>
    </div>
    <div class="details-popup-body">
      <div class="gaze-summary">
        <div class="gaze-main">
          <div class="gaze-label">시선 상태</div>
          <div id="gaze-main-value" class="gaze-main-value">-</div>
        </div>
        <div class="gaze-stability">
          <div class="gaze-label">안정성 점수</div>
          <div id="gaze-stability-value" class="gaze-stability-value">-%</div>
        </div>
      </div>
      <div class="gaze-breakdown">
        <div class="gaze-label">랜드마크 정보</div>
        <div id="gaze-landmarks" class="gaze-landmarks">
          <!-- 동적으로 생성됨 -->
        </div>
      </div>
      <div class="gaze-criteria">
        <div class="gaze-label">평가 기준</div>
        <div id="gaze-criteria-text" class="gaze-criteria-text">
          시선 분석 데이터가 없습니다.
        </div>
      </div>
      <div class="gaze-explanation">
        <div class="gaze-label">점수 계산 근거</div>
        <div id="gaze-explanation-text" class="gaze-explanation-text">
          시선 분석 데이터가 없습니다.
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// 시선 안정성 상세 정보 팝업 관련 함수들 (UI-only mode)
function updateGazeLandmarksInfo() {
    const landmarksDiv = document.getElementById('gaze-landmarks');
    
    // UI-only mode: 기본 정보 표시
    const landmarkInfo = [
        { name: '시선 분석', value: '비활성화', description: 'MediaPipe 기반 시선 분석 기능이 비활성화되어 있습니다.' },
        { name: '눈 추적', value: '비활성화', description: '실시간 눈 추적 기능이 비활성화되어 있습니다.' },
        { name: '안정성 측정', value: '비활성화', description: '시선 안정성 측정 기능이 비활성화되어 있습니다.' }
    ];
    
    let html = '';
    landmarkInfo.forEach(item => {
        html += `
            <div class="landmark-item">
                <div class="landmark-name">${item.name}</div>
                <div class="landmark-value">${item.value}</div>
                <div class="landmark-description">${item.description}</div>
            </div>
        `;
    });
    
    landmarksDiv.innerHTML = html;
}

function updateGazeCriteriaInfo() {
    const criteriaDiv = document.getElementById('gaze-criteria-text');
    
    const criteria = `
        <div class="criteria-section">
            <h4>🎯 시선 안정성 평가 기준 (UI-only mode)</h4>
            <ul>
                <li><strong>시선 분석 기능</strong>: MediaPipe 기반 시선 분석이 비활성화되어 있습니다.</li>
                <li><strong>실시간 추적</strong>: 실시간 시선 추적 기능이 비활성화되어 있습니다.</li>
                <li><strong>안정성 측정</strong>: 시선 안정성 측정 기능이 비활성화되어 있습니다.</li>
            </ul>
            
                         <h4>👁️ 시선 분석 방법</h4>
             <ul>
                 <li><strong>얼굴 랜드마크</strong>: 468개 얼굴 랜드마크를 사용한 시선 분석</li>
                 <li><strong>눈 추적</strong>: 32개 눈 랜드마크를 통한 정확한 눈 위치 추적</li>
                 <li><strong>시선 방향</strong>: 눈동자 중심점을 통한 시선 방향 계산</li>
                 <li><strong>안정성 평가</strong>: 시선 변화량과 속도를 통한 안정성 측정</li>
             </ul>
            
            <h4>📊 점수 기준</h4>
            <ul>
                <li><strong>90-100점</strong>: 매우 안정적인 시선 (집중력 우수)</li>
                <li><strong>70-89점</strong>: 안정적인 시선 (적절한 집중)</li>
                <li><strong>50-69점</strong>: 보통 수준의 시선 (일반적인 상태)</li>
                <li><strong>30-49점</strong>: 불안정한 시선 (집중력 저하)</li>
                <li><strong>0-29점</strong>: 매우 불안정한 시선 (심각한 집중력 문제)</li>
            </ul>
        </div>
    `;
    
    criteriaDiv.innerHTML = criteria;
}

function updateGazeExplanationInfo() {
    const explanationDiv = document.getElementById('gaze-explanation-text');
    
    // UI-only mode: 기본 설명 표시
    let explanation = `<div class="explanation-section">`;
    explanation += `<h4>📈 현재 상태 (UI-only mode)</h4>`;
    explanation += `<ul>`;
    explanation += `<li><strong>시선 분석</strong>: MediaPipe 기반 시선 분석이 비활성화되어 있습니다.</li>`;
    explanation += `<li><strong>실시간 추적</strong>: 실시간 시선 추적 기능이 비활성화되어 있습니다.</li>`;
    explanation += `<li><strong>안정성 측정</strong>: 시선 안정성 측정 기능이 비활성화되어 있습니다.</li>`;
    explanation += `<li><strong>점수 계산</strong>: 실시간 점수 계산이 비활성화되어 있습니다.</li>`;
    explanation += `</ul>`;
    
    explanation += `<p>🎯 <strong>UI 디자인 모드</strong>: 현재 UI 디자인만 표시되고 있으며, 실제 시선 분석 기능은 비활성화되어 있습니다.</p>`;
    explanation += `<p>💡 <strong>기능 활성화</strong>: MediaPipe 통합이 완료되면 실시간 시선 분석 기능이 활성화됩니다.</p>`;
    
    explanation += `</div>`;
    
    explanationDiv.innerHTML = explanation;
}

// 전역 스코프에 함수들 노출
window.updateGazeLandmarksInfo = updateGazeLandmarksInfo;
window.updateGazeCriteriaInfo = updateGazeCriteriaInfo;
window.updateGazeExplanationInfo = updateGazeExplanationInfo;
</script>
